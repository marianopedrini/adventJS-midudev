# Retos Midu

link:
https://adventjs.dev/

## 1- Contando ovejas para dormir

Considera una lista/array de ovejas. Cada oveja tiene un nombre y un color. Haz una funci√≥n que devuelva una lista con todas las ovejas que sean de color rojo y que adem√°s su nombre contenga tanto las letras n Y a, sin importar el orden, las may√∫sculas o espacios.

Por ejemplo, si tenemos las ovejas:

```javascript
const ovejas = [
  { name: 'Noa', color: 'azul' },
  { name: 'Euge', color: 'rojo' },
  { name: 'Navidad', color: 'rojo' },
  { name: 'Ki Na Ma', color: 'rojo' },
];
```

Al ejecutar el m√©todo deber√≠a devolver lo siguiente:

```javascript
const ovejasFiltradas = contarOvejas(ovejas);

console.log(ovejasFiltradas);

// [{ name: 'Navidad', color: 'rojo' },
// { name: 'Ki Na Ma', color: 'rojo' }]
```

## 2- ¬°Ayuda al elfo a listar los regalos!

Te ha llegado una carta ‚úâÔ∏è con todos los regalos que debes preparar. El tema es que es una cadena de texto y es muy dif√≠cil de leer üò±. ¬°Menos mal que han puesto cada regalo separado por espacio! (aunque ten cuidado, porque al ser ni√±os, igual han colado m√°s espacios de la cuenta)

Encima nos hemos dado cuenta que algunas palabras vienen con un \_ delante de la palabra, por ejemplo \_playstation, que significa que est√° tachado y no se tiene que contar.

Transforma el texto a un objeto que contenga el nombre de cada regalo y las veces que aparece. Por ejemplo, si tenemos el texto:

```javascript
const carta = 'bici coche bal√≥n _playstation bici coche peluche';
```

Al ejecutar el m√©todo deber√≠a devolver lo siguiente:

```javascript
const regalos = listGifts(carta)

console.log(regalos)
/_
{
bici: 2,
coche: 2,
bal√≥n: 1,
peluche: 1
}
_/

```

Ten en cuenta que los tests pueden ser m√°s exhaustivos... üòù ¬°Cuidado con contar espacios vac√≠os!

## 3- El Grinch quiere fastidiar la Navidad

El Grinch est√° abriendo las cartas que iban a Santa Claus y las est√° dejando hechas un l√≠o. üò±

Las cartas son una cadena de texto que incluyen regalos y par√©ntesis ().

Para saber si una carta es v√°lida ‚úÖ, debes comprobar que los par√©ntesis cierran correctamente y que, adem√°s, no vayan vac√≠os.

¬°Pero ojo! Porque el Grinch ha dejado llaves { y corchetes [ dentro de los par√©ntesis que hacen que no sean v√°lidas. Por suerte s√≥lo los ha dejado en medio de los par√©ntesis...

Ejemplos:

```javascript
'bici coche (bal√≥n) bici coche peluche'; // -> ‚úÖ
'(mu√±eca) consola bici'; // ‚úÖ

'bici coche (bal√≥n bici coche'; // -> ‚ùå
'peluche (bici [coche) bici coche bal√≥n'; // -> ‚ùå
'(peluche {) bici'; // -> ‚ùå
'() bici'; // ‚ùå
```

Crea una funci√≥n que pas√°ndole el texto de la carta, devuelva true si es v√°lida y false si no lo es. ¬°Y acaba con la travesura del Grinch!

## 4- ¬°Es hora de poner la navidad en casa!

¬°Es hora de poner el √°rbol de navidad en casa! üéÑ

Para ello vamos a crear una funci√≥n que recibe la altura del √°rbol, que ser√° un entero positivo del 1 a, como m√°ximo, 100.

Si le pasamos el argumento 5, se pintar√≠a esto:

```javascript
____*____
___***___
__*****__
_*******_
*********
____#____
____#____
```

Creamos un tri√°ngulo de aster√≠scos \* con la altura proporcionada y, a los lados, usamos el gui√≥n bajo \_ para los espacios. Es muy importante que nuestro √°rbol siempre tenga la misma longitud por cada lado.
Todos los √°rboles, por peque√±os o grandes que sean, tienen un tronco de dos l√≠neas de #.

Otro ejemplo con un √°rbol de altura 3:

```javascript
__*__
_***_
*****
__#__
__#__
```

Ten en cuenta que el √°rbol es un string y necesitas los saltos de l√≠nea \n para cada l√≠nea para que se forme bien el √°rbol.

## 5- Contando los d√≠as para los regalos

Con la emoci√≥n, ya estamos empezando a contar los d√≠as del calendario hasta el 25 de diciembre üìÜ.

Para ayudar a esto, vamos a crear una funci√≥n que pas√°ndole una instancia de **Date** nos diga el n√∫mero de d√≠as que faltan.

Veamos unos ejemplos:

```javascript
const date1 = new Date('Dec 1, 2021');
daysToXmas(date1); // 24
const date2 = new Date('Dec 24, 2021 00:00:01');
daysToXmas(date2); // 1
const date3 = new Date('Dec 24, 2021 23:59:59');
daysToXmas(date3); // 1
const date4 = new Date('December 20, 2021 03:24:00');
daysToXmas(date4); // 5
```

El resultado tiene que ser un n√∫mero entero y, como ves, aunque falte un segundo hasta el siguiente d√≠a, se entiende que todav√≠a falta un d√≠a.

¬°Pero ojo! Tambi√©n hay que indicar si la fecha es del mismo d√≠a (devolver√≠amos **0**) o si es una fecha futura (devolver√≠amos el n√∫mero de d√≠as en negativo **-**):

```javascript
const date = new Date('Dec 25, 2021');
daysToXmas(date); // 0
const date1 = new Date('Dec 26, 2021');
daysToXmas(date1); // -1
const date2 = new Date('Dec 31, 2021');
daysToXmas(date2); // -6
const date3 = new Date('Jan 1, 2022 00:00:01');
daysToXmas(date3); // -7
const date4 = new Date('Jan 1, 2022 23:59:59');
daysToXmas(date4); // -7
```

Por cierto, la fecha de referencia para saber si es 25 de diciembre es **Dec 25, 2021**.

## 6- Rematando los ex√°menes finales

Antes de poder disfrutar de la navidad... nos toca terminar de rematar los ex√°menes finales. ¬°Y toca un poco de matem√°ticas! üò±

A una funci√≥n se le pasan dos par√°metros: un Array con n√∫meros y el resultado que se espera.

La funci√≥n debe devolver los dos valores del Array que sumen el resultado esperado. Como a veces pueden haber m√°s de dos valores que sumen, se devolver√° el primero empezando por la izquierda que encuentre otro par, sin importar lo lejos que est√© a la derecha.

Si no se encuentra, se devuelve **null**.

Veamos unos ejemplos:

```javascript
sumPairs([3, 5, 7, 2], 10); // [3, 7]
sumPairs([-3, -2, 7, -5], 10); // null
sumPairs([2, 2, 3, 1], 4); // [2, 2]
sumPairs([6, 7, 1, 2], 8); // [6, 2]
sumPairs([0, 2, 2, 3, -1, 1, 5], 6); // [1, 5]
```

El resultado tiene que ser un array con dos n√∫meros.

Una vez que tengas el resultado... ¬øc√≥mo podr√≠as hacer que fuese lo m√°s √≥ptimo posible para no tener que recorrer las mismas situaciones dos veces ü§î?

## 7- Buscando en el almac√©n...

Mi amigo Dani est√° trabajando en una tienda y con la llegada de las navidades tiene el almac√©n hecho un desastre y no encuentra nada.

Vamos a crear una funci√≥n contains que recibe dos par√°metros: un objeto que define el almac√©n y el producto que buscamos.

La funci√≥n debe devolver un booleano que indique si se encuentra el string como valor en alg√∫n nivel del objeto. Veamos unos ejemplos:

```javascript
const almacen = {
  estanteria1: {
    cajon1: {
      producto1: 'coca-cola',
      producto2: 'fanta',
      producto3: 'sprite',
    },
  },
  estanteria2: {
    cajon1: 'vacio',
    cajon2: {
      producto1: 'pantalones',
      producto2: 'camiseta', // <- ¬°Est√° aqu√≠!
    },
  },
};

contains(almacen, 'camiseta'); // true

const otroAlmacen = {
  baul: {
    fondo: {
      objeto: 'cd-rom',
      'otro-objeto': 'disquette',
      'otra-cosa': 'mando',
    },
  },
};

contains(otroAlmacen, 'gameboy'); // false
```

Ten en cuenta que la tienda es enorme. Tiene diferentes almacenes y, como has visto en los ejemplos, cada uno puede tener diferentes organizaciones.Lo importante es buscar que el producto est√° en los almacenes.

## 8- La locura de las criptomonedas

Invertir en criptomonedas es casi un deporte de riesgo. El otro d√≠a hackearon Bitmart y ha hecho que el valor de Bitcoin, y otras monedas, bajase un 25%.

Vamos a escribir una funci√≥n que reciba la lista de precios de una criptomoneda en un d√≠a y debemos devolver la ganancia m√°xima que podr√≠amos sacar si compramos y vendemos la inversi√≥n el mismo d√≠a.

La lista de precios es un array de n√∫meros y representa el tiempo de izquierda a derecha. Por lo que ten en cuenta que no puedes comprar a un precio que est√© a la derecha de la venta y no puedes vender a un precio que est√© a la izquierda de la compra.

Por ejemplo:

```javascript
const pricesBtc = [39, 18, 29, 25, 34, 32, 5];
maxProfit(pricesBtc); // -> 16 (compra a 18, vende a 34)

const pricesEth = [10, 20, 30, 40, 50, 60, 70];
maxProfit(pricesEth); // -> 60 (compra a 10, vende a 70)
```

Si ese d√≠a no se puede sacar ning√∫n beneficio, tenemos que devolver -1 para evitar que hagamos una locura:

```javascript
const pricesDoge = [18, 15, 12, 11, 9, 7]
maxProfit(pricesDoge) = // -> -1 (no hay ganancia posible)

const pricesAda = [3, 3, 3, 3, 3]
maxProfit(pricesAda) = // -> -1 (no hay ganancia posible)
```

## 9- Agrupando cosas autom√°ticamente

En la f√°brica de Papa No√©l üéÖ se acerca el d√≠a especial... y todav√≠a tenemos un mont√≥n de cosas por contar. üòÖ

Por suerte a Mark Zucktheelf üßù se le ha ocurrido crear una funci√≥n que permita agrupar un array, que puede ser de valores u objetos, a trav√©s de una funci√≥n o de una propiedad.

Nos trae un mont√≥n de ejemplos:

```javascript
groupBy([6.1, 4.2, 6.3], Math.floor); // { 6: [6.1, 6.3], 4: [4.2] }
groupBy(['one', 'two', 'three'], 'length'); // { 3: ['one', 'two'], 5: ['three'] }
groupBy([{ age: 23 }, { age: 24 }], 'age'); // { 23: [{age: 23}], 24: [{age: 24}] }

groupBy([1397639141184, 1363223700000], (timestamp) =>
  new Date(timestamp).getFullYear()
);
// { 2013: [1363223700000], 2014: [1397639141184] }

groupBy(
  [
    { title: 'JavaScript: The Good Parts', rating: 8 },
    { title: 'Aprendiendo Git', rating: 10 },
    { title: 'Clean Code', rating: 9 },
  ],
  'rating'
);
// { 8: [{ title: 'JavaScript: The Good Parts', rating: 8 }],
//   9: [{ title: 'Clean Code', rating: 9 }],
//   10: [{ title: 'Aprendiendo Git', rating: 10 }] }
```

Como ves, la funci√≥n groupBy recibe una colecci√≥n (array) y una funci√≥n o una propiedad, y devuelve un objeto con claves que son los valores de la funci√≥n ejecutada pasando como argumento cada elemento o de la propiedad por cada elemento. Luego los valores son un array de los valores que tengan la misma llave.

La dificultad del reto est√° m√°s en comprender la funci√≥n que en la implementaci√≥n. ¬°Suerte!.

## 10- La m√°quina de cambio

Para mejorar la productividad de la tienda en la que trabajamos, vamos a crear una peque√±a m√°quina que calcula el m√≠nimo n√∫mero de monedas que debemos usar para dar el cambio de una compra en met√°lico.

Las monedas para cambio que puedes usar son estas:

```javascript
coins[0] = 1 c√©ntimo
coins[1] = 2 c√©ntimos
coins[2] = 5 c√©ntimos
coins[3] = 10 c√©ntimos
coins[4] = 20 c√©ntimos
coins[5] = 50 c√©ntimos
```

Tenemos que crear una funci√≥n que recibe el n√∫mero de c√©ntimos que hay que devolver al cliente y la funci√≥n nos da un array con la combinaci√≥n de monedas m√≠nimas que debemos usar para conseguirlo.

```javascript
getCoins(51); // [1, 0, 0, 0, 0, 1] -> una moneda de 1 c√©ntimo y otra de 50 c√©ntimos
getCoins(3); // [1, 1, 0, 0, 0, 0] -> una moneda de 1 c√©ntimo y otra de 2
getCoins(5); // [0, 0, 1, 0, 0, 0] -> una moneda de 5 c√©ntimos
getCoins(16); // [1, 0, 1, 1, 0, 0] -> una moneda de 1 c√©ntimo, una de 5 y una de 10
getCoins(100); // [0, 0, 0, 0, 0, 2] -> dos monedas de 50 c√©ntimos
```

La dificultad del reto est√° en saber utilizar correctamente una estructura que te permita conocer las monedas que tienes disponible para crear el array con la devoluci√≥n, ya que debes usar siempre el menor n√∫mero de monedas posible. ¬°Suerte üë©‚Äçüíªüë®‚Äçüíª!.

## 11- ¬øVale la pena la tarjeta fidelidad del cine?

Este mes de diciembre hay pel√≠culas super interesantes en el cine... y tengo que optimizar c√≥mo gasto el dinero.

Mi cine favorito tiene dos posibilidades:

‚Ä¢ Entrada de un s√≥lo uso: Cuesta 12$ por cada pel√≠cula.

‚Ä¢ Tarjeta de fidelidad: Cuesta 250$ pero que cada vez que vas pagas s√≥lo el 75% del precio del ticket. ¬°Lo mejor es que se acumula! Y cada vez que vas, se paga el 75% del precio del ticket que pagaste la √∫ltima vez.
Ejemplo de cada una al comprar 3 entradas y el precio que pagar√≠a en total:

```javascript
// Entrada normal: 12$ * 3 = 36$
// Tarjeta fidelidad: 250$ + (12$ * 0,75) +  (12$ * 0,75 * 0,75) + (12$ * 0,75 * 0,75 * 0,75) = 270,8125$
```

Necesito una funci√≥n que, al pasarle las veces que voy a ir al cine, me diga si vale la pena comprar la tarjeta fidelidad o no.

```javascript
shouldBuyFidelity(1); // false -> Mejor comprar tickets de un s√≥lo uso
shouldBuyFidelity(100); // true -> Mejor comprar tarjeta fidelidad
```

La dificultad del reto est√° en encontrar una f√≥rmula sencilla que nos diga el precio con descuento acumulado para la tarjeta fidelidad. üòú
